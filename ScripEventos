CREATE TABLE libertya.ev_tipo_evento (
    ev_tipo_evento_id integer NOT NULL, 
    ad_client_id integer NOT NULL,
    ad_org_id integer NOT NULL,
    isactive character(1) DEFAULT 'Y'::bpchar NOT NULL,
    created timestamp without time zone DEFAULT ('now'::text)::timestamp(6) with time zone NOT NULL,
    createdby integer NOT NULL,
    updated timestamp without time zone DEFAULT ('now'::text)::timestamp(6) with time zone NOT NULL,
    updatedby integer NOT NULL,
    name character varying(255) NOT NULL,
    CONSTRAINT ev_tipo_evento_key PRIMARY KEY (ev_tipo_evento_id),
    CONSTRAINT adclient_mtipoevento FOREIGN KEY (ad_client_id)
         REFERENCES libertya.ad_client (ad_client_id) MATCH SIMPLE
         ON UPDATE NO ACTION ON DELETE NO ACTION,
    CONSTRAINT adorg_mtipoevento FOREIGN KEY (ad_org_id)
         REFERENCES libertya.ad_org (ad_org_id) MATCH SIMPLE
         ON UPDATE NO ACTION ON DELETE NO ACTION
);


CREATE TABLE libertya.ev_evento
(
  ev_evento_id integer NOT NULL,
  ad_client_id integer NOT NULL,
  ad_org_id integer NOT NULL,
  isactive character(1) NOT NULL DEFAULT 'Y'::bpchar,
  created timestamp without time zone NOT NULL DEFAULT ('now'::text)::timestamp(6) with time zone,
  createdby integer NOT NULL,
  updated timestamp without time zone NOT NULL DEFAULT ('now'::text)::timestamp(6) with time zone,
  updatedby integer NOT NULL,
  ev_tipo_evento_id integer NOT NULL,
  datecontract timestamp without time zone,
  dateinicio timestamp without time zone NOT NULL,
  datefin timestamp without time zone NOT NULL,
  lugar character varying(60),
  direction character varying(60),
  cantidadinvitados integer DEFAULT 0,
  cantmayores integer DEFAULT 0,
  cantjovenes integer DEFAULT 0,
  cantninios integer DEFAULT 0, 
  entregainicial numeric(20,2),
  saldopendiente numeric(20,2),
  cantidaddescorche integer DEFAULT 0,
  cantidadmesadulce integer DEFAULT 0,
  cantidadbarra integer DEFAULT 0,
  cantidadmesa integer DEFAULT 0,
  usanromesa character (1) NOT NULL DEFAULT 'N'::bpchar,
  usacentromesa character (1) NOT NULL DEFAULT 'N'::bpchar,
  usamesaimperial character (1) NOT NULL DEFAULT 'N'::bpchar,
  usamesaredonda character (1) NOT NULL DEFAULT 'N'::bpchar,
  estilomesa character varying(60),
  cantidadlugaresmesa integer DEFAULT 0,
  cantidadsillas integer DEFAULT 0,
  usaliving character (1) NOT NULL DEFAULT 'N'::bpchar,
  tamanioliving character varying(60),
  colormantel character varying(60),
  colorservilleta character varying(60),
  cantidadcaminos integer DEFAULT 0,
  cantidadcubresillas integer DEFAULT 0,
  tipotortacasamiento character varying(60),
  nromesatorta integer,
  aclaraciontortacasam character varying(255),
  detalleextratortacasam character varying(255),
  realizacivil character (1) NOT NULL DEFAULT 'N'::bpchar,
  mesacivil character varying(60),
  cantidadsillascivil integer DEFAULT 0,
  cantidadsillastestigos integer DEFAULT 0,
  manteleriacivil character varying(60),
  caminocivil character varying(60),
  ubicacioncivil character varying(60),
  decoracionespecialcivil character varying(60),
  CONSTRAINT ev_evento_key PRIMARY KEY (ev_evento_id),
  CONSTRAINT adclient_evevento FOREIGN KEY (ad_client_id)
      REFERENCES libertya.ad_client (ad_client_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT adorg_evevento FOREIGN KEY (ad_org_id)
      REFERENCES libertya.ad_org (ad_org_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT evtipoevento_evevento FOREIGN KEY (ev_tipo_evento_id)
      REFERENCES libertya.ev_tipo_evento (ev_tipo_evento_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
);


CREATE TABLE libertya.ev_tipo_producto 
(
  ev_tipo_producto_id integer NOT NULL, 
  ad_client_id integer NOT NULL,
  ad_org_id integer NOT NULL,
  isactive character(1) DEFAULT 'Y'::bpchar NOT NULL,
  created timestamp without time zone DEFAULT ('now'::text)::timestamp(6) with time zone NOT NULL,
  createdby integer NOT NULL,
  updated timestamp without time zone DEFAULT ('now'::text)::timestamp(6) with time zone NOT NULL,
  updatedby integer NOT NULL,
  name character varying(255) NOT NULL,
  CONSTRAINT ev_tipo_producto_key PRIMARY KEY (ev_tipo_producto_id),
  CONSTRAINT adclient_evtipoproducto FOREIGN KEY (ad_client_id)
    REFERENCES libertya.ad_client (ad_client_id) MATCH SIMPLE
    ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT adorg_evtipoproducto FOREIGN KEY (ad_org_id)
    REFERENCES libertya.ad_org (ad_org_id) MATCH SIMPLE
    ON UPDATE NO ACTION ON DELETE NO ACTION
);


CREATE TABLE libertya.ev_tipo_barra
(
  ev_tipo_barra_id integer NOT NULL, 
  ad_client_id integer NOT NULL,
  ad_org_id integer NOT NULL,
  isactive character(1) DEFAULT 'Y'::bpchar NOT NULL,
  created timestamp without time zone DEFAULT ('now'::text)::timestamp(6) with time zone NOT NULL,
  createdby integer NOT NULL,
  updated timestamp without time zone DEFAULT ('now'::text)::timestamp(6) with time zone NOT NULL,
  updatedby integer NOT NULL,
  name character varying(255) NOT NULL,
  CONSTRAINT ev_tipo_barra_key PRIMARY KEY (ev_tipo_barra_id)
);


CREATE TABLE libertya.ev_tareas_personal_extra 
(
  ev_tareas_personal_extra_id integer NOT NULL, 
  ad_client_id integer NOT NULL,
  ad_org_id integer NOT NULL,
  isactive character(1) DEFAULT 'Y'::bpchar NOT NULL,
  created timestamp without time zone DEFAULT ('now'::text)::timestamp(6) with time zone NOT NULL,
  createdby integer NOT NULL,
  updated timestamp without time zone DEFAULT ('now'::text)::timestamp(6) with time zone NOT NULL,
  updatedby integer NOT NULL,
  name character varying(255) NOT NULL,
  CONSTRAINT ev_tareas_personal_extra_key PRIMARY KEY (ev_tareas_personal_extra_id)
);


CREATE TABLE libertya.ev_personal_extra 
(
    ev_personal_extra_id integer NOT NULL,
    ad_client_id integer NOT NULL,
    ad_org_id integer NOT NULL,
    isactive character(1) DEFAULT 'Y'::bpchar NOT NULL,
    created timestamp without time zone DEFAULT ('now'::text)::timestamp(6) with time zone NOT NULL,
    createdby integer NOT NULL,
    updated timestamp without time zone DEFAULT ('now'::text)::timestamp(6) with time zone NOT NULL,
    updatedby integer NOT NULL,
    ev_tareas_personal_extra_id integer NOT NULL, 
    ev_evento_id integer NOT NULL,
-----  Nombre y Apellido 
    name character varying(60) NOT NULL,
    domicilio character varying(60),
    email character varying(60),
    phone character varying(40),
    comments character varying(2000),
    CONSTRAINT ev_personal_extra_id_key PRIMARY KEY (ev_personal_extra_id),
    CONSTRAINT adclient_evpersonalextra FOREIGN KEY (ad_client_id)
      REFERENCES libertya.ad_client (ad_client_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
    CONSTRAINT adorg_evpersonalextra FOREIGN KEY (ad_org_id)
      REFERENCES libertya.ad_org (ad_org_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
    CONSTRAINT personalextra_tareaspersonalextra FOREIGN KEY (ev_tareas_personal_extra_id)
      REFERENCES libertya.ev_tareas_personal_extra (ev_tareas_personal_extra_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
    CONSTRAINT evevento_evpersonalextra FOREIGN KEY (ev_evento_id)
      REFERENCES libertya.ev_evento (ev_evento_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION  
);


CREATE TABLE libertya.ev_productos 
(
  ev_producto_id integer NOT NULL,
  ad_client_id integer NOT NULL,
  ad_org_id integer NOT NULL,
  isactive character(1) DEFAULT 'Y'::bpchar NOT NULL,
  created timestamp without time zone DEFAULT ('now'::text)::timestamp(6) with time zone NOT NULL,
  createdby integer NOT NULL,
  updated timestamp without time zone DEFAULT ('now'::text)::timestamp(6) with time zone NOT NULL,
  updatedby integer NOT NULL,
  ev_tipo_barra_id integer NOT NULL,
  ev_tipo_producto_id integer NOT NULL,
  ev_evento_id integer NOT NULL, 
  name character varying(60), --encargado
  name2 character varying(60), --responsable
  phone character varying(16),
  fecha_logistica numeric(20,2) DEFAULT 0,
  CONSTRAINT ev_productos_key PRIMARY KEY (ev_producto_id),
  CONSTRAINT adclient_evproductos FOREIGN KEY (ad_client_id)
      REFERENCES libertya.ad_client (ad_client_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT adorg_evproductos FOREIGN KEY (ad_org_id)
      REFERENCES libertya.ad_org (ad_org_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT evtipo_barra_evproductos FOREIGN KEY (ev_tipo_barra_id)
      REFERENCES libertya.ev_tipo_barra (ev_tipo_barra_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT evtipo_producto_evproductos FOREIGN KEY (ev_tipo_producto_id)
      REFERENCES libertya.ev_tipo_producto (ev_tipo_producto_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT evevento_evproductos FOREIGN KEY (ev_evento_id)
      REFERENCES libertya.ev_evento (ev_evento_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
);


CREATE TABLE libertya.ev_producto_detalle 
(
  ev_producto_detalle_id integer NOT NULL, 
  ad_client_id integer NOT NULL,
  ad_org_id integer NOT NULL,
  isactive character(1) DEFAULT 'Y'::bpchar NOT NULL,
  created timestamp without time zone DEFAULT ('now'::text)::timestamp(6) with time zone NOT NULL,
  createdby integer NOT NULL,
  updated timestamp without time zone DEFAULT ('now'::text)::timestamp(6) with time zone NOT NULL,
  updatedby integer NOT NULL,
  m_product_id integer NOT NULL,
  ev_producto_id integer NOT NULL,
  ev_tipo_barra_id integer NOT NULL,
  ev_tipo_producto_id integer NOT NULL,
  cantidad_inicial numeric(20,2) DEFAULT 0,
  cantidad_final numeric(20,2) DEFAULT 0,
  CONSTRAINT ev_producto_detalle_key PRIMARY KEY (ev_producto_detalle_id),
  CONSTRAINT adclient_evproductosdetalles FOREIGN KEY (ad_client_id)
      REFERENCES libertya.ad_client (ad_client_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT adorg_evproductosdetalles FOREIGN KEY (ad_org_id)
      REFERENCES libertya.ad_org (ad_org_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT mproduct_evproductodetalle FOREIGN KEY (m_product_id)
      REFERENCES libertya.m_product (m_product_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT evtipodebarra_evproductodetalle FOREIGN KEY (ev_tipo_barra_id)
      REFERENCES libertya.ev_tipo_barra (ev_tipo_barra_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT evproducto_evproductodetalle FOREIGN KEY (ev_producto_id)
      REFERENCES libertya.ev_productos (ev_producto_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT evtipoproducto_evproductodetalle FOREIGN KEY (ev_tipo_producto_id)
      REFERENCES libertya.ev_tipo_producto (ev_tipo_producto_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
);

CREATE TABLE libertya.ev_mesas
(
  ev_mesa_id integer NOT NULL,
  ad_client_id integer NOT NULL,
  ad_org_id integer NOT NULL,
  isactive character(1) NOT NULL DEFAULT 'Y'::bpchar,
  created timestamp without time zone NOT NULL DEFAULT ('now'::text)::timestamp(6) with time zone,
  createdby integer NOT NULL,
  updated timestamp without time zone NOT NULL DEFAULT ('now'::text)::timestamp(6) with time zone,
  updatedby integer NOT NULL,
  ev_evento_id integer NOT NULL,
  type character varying(3),
  ubication character varying(255),
  description character varying(255),
  CONSTRAINT ev_mesas_key PRIMARY KEY (ev_mesa_id),
  CONSTRAINT evevento_evmesas FOREIGN KEY (ev_evento_id)
      REFERENCES libertya.ev_evento (ev_evento_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT adclient_evmesas FOREIGN KEY (ad_client_id)
      REFERENCES libertya.ad_client (ad_client_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,    
  CONSTRAINT adorg_evmesas FOREIGN KEY (ad_org_id)
      REFERENCES libertya.ad_org (ad_org_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
);

CREATE TABLE libertya.ev_invitados 
(
    ev_invitado_id integer NOT NULL, 
    ad_client_id integer NOT NULL,
    ad_org_id integer NOT NULL,
    isactive character(1) DEFAULT 'Y'::bpchar NOT NULL,
    created timestamp without time zone DEFAULT ('now'::text)::timestamp(6) with time zone NOT NULL,
    createdby integer NOT NULL,
    updated timestamp without time zone DEFAULT ('now'::text)::timestamp(6) with time zone NOT NULL,
    updatedby integer NOT NULL,
    ev_evento_id integer NOT NULL,
    name character varying(255) NOT NULL,
    vinculo character varying(255) NOT NULL,
    ev_mesa_id integer NOT NULL, 
    comments character varying(2000),
    CONSTRAINT ev_invitado_key PRIMARY KEY (ev_invitado_id),
    CONSTRAINT adclient_evinvitados FOREIGN KEY (ad_client_id)
         REFERENCES libertya.ad_client (ad_client_id) MATCH SIMPLE
         ON UPDATE NO ACTION ON DELETE NO ACTION,
    CONSTRAINT adorg_evinvitado FOREIGN KEY (ad_org_id)
         REFERENCES libertya.ad_org (ad_org_id) MATCH SIMPLE
         ON UPDATE NO ACTION ON DELETE NO ACTION,
    CONSTRAINT evevento_evinvitados FOREIGN KEY (ev_evento_id)
      REFERENCES libertya.ev_evento (ev_evento_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
    CONSTRAINT evmesa_evinvitados FOREIGN KEY (ev_mesa_id)
      REFERENCES libertya.ev_mesas (ev_mesa_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION  
);


CREATE TABLE libertya.ev_documentos 
(
    ev_documento_id integer NOT NULL, 
    ad_client_id integer NOT NULL,
    ad_org_id integer NOT NULL,
    isactive character(1) DEFAULT 'Y'::bpchar NOT NULL,
    created timestamp without time zone DEFAULT ('now'::text)::timestamp(6) with time zone NOT NULL,
    createdby integer NOT NULL,
    updated timestamp without time zone DEFAULT ('now'::text)::timestamp(6) with time zone NOT NULL,
    updatedby integer NOT NULL,
    ev_evento_id integer NOT NULL,
    name character varying(255) NOT NULL,
    binarydata bytea,
    CONSTRAINT ev_documento_key PRIMARY KEY (ev_documento_id),
    CONSTRAINT adclient_ev_documentos FOREIGN KEY (ad_client_id)
         REFERENCES libertya.ad_client (ad_client_id) MATCH SIMPLE
         ON UPDATE NO ACTION ON DELETE NO ACTION,
    CONSTRAINT adorg_evinvitado FOREIGN KEY (ad_org_id)
         REFERENCES libertya.ad_org (ad_org_id) MATCH SIMPLE
         ON UPDATE NO ACTION ON DELETE NO ACTION,
    CONSTRAINT evevento_evdocumentos FOREIGN KEY (ev_evento_id)
      REFERENCES libertya.ev_evento (ev_evento_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
); 

CREATE TABLE libertya.ev_producto_faltante (
    ev_producto_faltante_id integer NOT NULL, 
    ad_client_id integer NOT NULL,
    ad_org_id integer NOT NULL,
    isactive character(1) DEFAULT 'Y'::bpchar NOT NULL,
    created timestamp without time zone DEFAULT ('now'::text)::timestamp(6) with time zone NOT NULL,
    createdby integer NOT NULL,
    updated timestamp without time zone DEFAULT ('now'::text)::timestamp(6) with time zone NOT NULL,
    updatedby integer NOT NULL,
    m_product_id integer NOT NULL,   
    ev_evento_id integer NOT NULL,
    qty integer NOT NULL,
    costo_unitario numeric(22,4) DEFAULT 0,
    costo_inicial numeric(22,4) DEFAULT 0,
    CONSTRAINT ev_producto_faltante_key PRIMARY KEY (ev_producto_faltante_id),
    CONSTRAINT adclient_evproductofaltante FOREIGN KEY (ad_client_id)
      REFERENCES libertya.ad_client (ad_client_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
    CONSTRAINT adorg_evproductofaltante FOREIGN KEY (ad_org_id)
      REFERENCES libertya.ad_org (ad_org_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
    CONSTRAINT evevento_evproductofalt FOREIGN KEY (ev_evento_id)
      REFERENCES libertya.ev_evento (ev_evento_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION, 
    CONSTRAINT mproduct_evproductofalt FOREIGN KEY (m_product_id)
      REFERENCES libertya.m_product (m_product_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION 
);


CREATE TABLE libertya.ev_timing
(
  ev_timing_id integer NOT NULL,
  ad_client_id integer NOT NULL,
  ad_org_id integer NOT NULL,
  isactive character(1) NOT NULL DEFAULT 'Y'::bpchar,
  created timestamp without time zone NOT NULL DEFAULT ('now'::text)::timestamp(6) with time zone,
  createdby integer NOT NULL,
  updated timestamp without time zone NOT NULL DEFAULT ('now'::text)::timestamp(6) with time zone,
  updatedby integer NOT NULL,
  ev_evento_id integer NOT NULL,
  datetiming timestamp without time zone NOT NULL,
  description character varying(255),
  CONSTRAINT ev_timing_key PRIMARY KEY (ev_timing_id),
  CONSTRAINT evevento_evtiming FOREIGN KEY (ev_evento_id)
      REFERENCES libertya.ev_evento (ev_evento_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT adclient_evtiming FOREIGN KEY (ad_client_id)
      REFERENCES libertya.ad_client (ad_client_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT adorg_evtiming FOREIGN KEY (ad_org_id)
      REFERENCES libertya.ad_org (ad_org_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
);


CREATE TABLE libertya.ev_inflacion
(
  ev_inflacion_id integer NOT NULL,
  ad_client_id integer NOT NULL,
  ad_org_id integer NOT NULL,
  isactive character(1) NOT NULL DEFAULT 'Y'::bpchar,
  created timestamp without time zone NOT NULL DEFAULT ('now'::text)::timestamp(6) with time zone,
  createdby integer NOT NULL,
  updated timestamp without time zone NOT NULL DEFAULT ('now'::text)::timestamp(6) with time zone,
  updatedby integer NOT NULL,
  anio integer NOT NULL,
  mes integer NOT NULL,
  name character varying(60),
  porcentaje numeric(24,6) DEFAULT 0,
  CONSTRAINT ev_inflacion_key PRIMARY KEY (ev_inflacion_id),
  CONSTRAINT adclient_evinflacion FOREIGN KEY (ad_client_id)
      REFERENCES libertya.ad_client (ad_client_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT adorg_evinflacion FOREIGN KEY (ad_org_id)
      REFERENCES libertya.ad_org (ad_org_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
);

CREATE TABLE libertya.ev_plan_pagos ---No se si está bien resuelto la parte de año mes
(
  ev_planpago_id integer NOT NULL,
  ad_client_id integer NOT NULL,
  ad_org_id integer NOT NULL,
  isactive character(1) NOT NULL DEFAULT 'Y'::bpchar,
  created timestamp without time zone NOT NULL DEFAULT ('now'::text)::timestamp(6) with time zone,
  createdby integer NOT NULL,
  updated timestamp without time zone NOT NULL DEFAULT ('now'::text)::timestamp(6) with time zone,
  updatedby integer NOT NULL,
  cuotanro integer NOT NULL,
  ev_evento_id integer NOT NULL,
  date timestamp without time zone NOT NULL,
  amount numeric(20,2) DEFAULT 0,
  amountotal numeric(20,2) DEFAULT 0,
  inflacionacum numeric(20,2) DEFAULT 0,
  valueactualizado numeric(20,2) DEFAULT 0,
  valuepagado numeric(20,2) DEFAULT 0,
  datepago timestamp without time zone NOT NULL,
  ev_inflacion_id integer NOT NULL,
  CONSTRAINT ev_plan_pagos_key PRIMARY KEY (ev_planpago_id),
  CONSTRAINT adclient_evplanpagos FOREIGN KEY (ad_client_id)
      REFERENCES libertya.ad_client (ad_client_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT adorg_evplanpagos FOREIGN KEY (ad_org_id)
      REFERENCES libertya.ad_org (ad_org_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT evinflacion_evplanpagos FOREIGN KEY (ev_inflacion_id)
      REFERENCES libertya.ev_inflacion (ev_inflacion_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
);

CREATE TABLE libertya.ev_tipo_menu
(
  ev_tipomenu_id integer NOT NULL,
  ad_client_id integer NOT NULL,
  ad_org_id integer NOT NULL,
  isactive character(1) NOT NULL DEFAULT 'Y'::bpchar,
  created timestamp without time zone NOT NULL DEFAULT ('now'::text)::timestamp(6) with time zone,
  createdby integer NOT NULL,
  updated timestamp without time zone NOT NULL DEFAULT ('now'::text)::timestamp(6) with time zone,
  updatedby integer NOT NULL,
  name character varying(60),
  CONSTRAINT ev_tipo_menu_key PRIMARY KEY (ev_tipomenu_id),
  CONSTRAINT adclient_evtipomenu FOREIGN KEY (ad_client_id)
      REFERENCES libertya.ad_client (ad_client_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT adorg_evtipomenu FOREIGN KEY (ad_org_id)
      REFERENCES libertya.ad_org (ad_org_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
);

CREATE TABLE libertya.ev_menu
(
  ev_menu_id integer NOT NULL,
  ad_client_id integer NOT NULL,
  ad_org_id integer NOT NULL,
  isactive character(1) NOT NULL DEFAULT 'Y'::bpchar,
  created timestamp without time zone NOT NULL DEFAULT ('now'::text)::timestamp(6) with time zone,
  createdby integer NOT NULL,
  updated timestamp without time zone NOT NULL DEFAULT ('now'::text)::timestamp(6) with time zone,
  updatedby integer NOT NULL,
  ev_tipomenu_id integer NOT NULL,
  ev_evento_id integer NOT NULL,
  qty integer DEFAULT 0, 
  price numeric(20,2),
  CONSTRAINT ev_menu_key PRIMARY KEY (ev_menu_id),
  CONSTRAINT adclient_evmenu FOREIGN KEY (ad_client_id)
      REFERENCES libertya.ad_client (ad_client_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT adorg_evmenu FOREIGN KEY (ad_org_id)
      REFERENCES libertya.ad_org (ad_org_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT evtipomenu_evmenu FOREIGN KEY (ev_tipomenu_id)
      REFERENCES libertya.ev_tipo_menu (ev_tipomenu_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT evevento_evmenu FOREIGN KEY (ev_evento_id)
      REFERENCES libertya.ev_evento (ev_evento_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)



=======================================================================================================Ver de usar la gestion empleados para esto que está entre las rayas dobles

CREATE TABLE libertya.ev_rol
(
  ev_rol_id integer NOT NULL,
  ad_client_id integer NOT NULL,
  ad_org_id integer NOT NULL,
  isactive character(1) NOT NULL DEFAULT 'Y'::bpchar,
  created timestamp without time zone NOT NULL DEFAULT ('now'::text)::timestamp(6) with time zone,
  createdby integer NOT NULL,
  updated timestamp without time zone NOT NULL DEFAULT ('now'::text)::timestamp(6) with time zone,
  updatedby integer NOT NULL,
  name character varying(255),
  description character varying(255),
  CONSTRAINT ev_rol_key PRIMARY KEY (ev_rol_id),
  CONSTRAINT adclient_evrol FOREIGN KEY (ad_client_id)
      REFERENCES libertya.ad_client (ad_client_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT adorg_evrol FOREIGN KEY (ad_org_id)
      REFERENCES libertya.ad_org (ad_org_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)

CREATE TABLE libertya.ev_rol_precios
(
  ev_rolprecios_id integer NOT NULL,
  ad_client_id integer NOT NULL,
  ad_org_id integer NOT NULL,
  isactive character(1) NOT NULL DEFAULT 'Y'::bpchar,
  created timestamp without time zone NOT NULL DEFAULT ('now'::text)::timestamp(6) with time zone,
  createdby integer NOT NULL,
  updated timestamp without time zone NOT NULL DEFAULT ('now'::text)::timestamp(6) with time zone,
  updatedby integer NOT NULL,
  ev_rol_id integer NOT NULL,
  datevigencia timestamp without time zone NOT NULL,
  pricetime numeric(20,2) DEFAULT 0, 
  CONSTRAINT ev_rolprecios_key PRIMARY KEY (ev_rolprecios_id),
  CONSTRAINT evrol_evrolprecios FOREIGN KEY (ev_rol_id)
      REFERENCES libertya.ev_rol (ev_rol_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT adclient_evrolprecios FOREIGN KEY (ad_client_id)
      REFERENCES libertya.ad_client (ad_client_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT adorg_evrolprecios FOREIGN KEY (ad_org_id)
      REFERENCES libertya.ad_org (ad_org_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION 
)


CREATE TABLE libertya.ev_personal
(
  ev_personal_id integer NOT NULL,
  ad_client_id integer NOT NULL,
  ad_org_id integer NOT NULL,
  isactive character(1) NOT NULL DEFAULT 'Y'::bpchar,
  created timestamp without time zone NOT NULL DEFAULT ('now'::text)::timestamp(6) with time zone,
  createdby integer NOT NULL,
  updated timestamp without time zone NOT NULL DEFAULT ('now'::text)::timestamp(6) with time zone,
  updatedby integer NOT NULL,
  ev_rol_id integer NOT NULL,
  ev_evento_id integer NOT NULL,
  name character varying(60),
  dateentrada timestamp without time zone NOT NULL,
  datesalida timestamp without time zone NOT NULL,
  cantHoraAdic integer DEFAULT 0, 
  valueLiquid numeric(20,2) DEFAULT 0,
  CONSTRAINT ev_personal_key PRIMARY KEY (ev_personal_id),
  CONSTRAINT evrol_evrolpersonal FOREIGN KEY (ev_rol_id)
      REFERENCES libertya.ev_rol (ev_rol_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT evevento_evrolpersonal FOREIGN KEY (ev_evento_id)
      REFERENCES libertya.ev_evento (ev_evento_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,    
  CONSTRAINT adclient_evpersonal FOREIGN KEY (ad_client_id)
      REFERENCES libertya.ad_client (ad_client_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT adorg_evpersonal FOREIGN KEY (ad_org_id)
      REFERENCES libertya.ad_org (ad_org_id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)

================================================================================================================
